{"remainingRequest":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\项目\\SKWMS\\wms-ui\\src\\components\\ImageCropper.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\项目\\SKWMS\\wms-ui\\src\\components\\ImageCropper.vue","mtime":1585370815896},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ElButtonSubmit from \"@/components/common/button/ElButtonSubmit\";\nimport ImageUtil from \"@/util/ImageUtil\";\nimport DialogUtil from \"@/util/DialogUtil\";\n\nexport default {\n    name: \"ImageCropper\",\n    components: {ElButtonSubmit},\n    props: {\n        showButton: {\n            default: true\n        },\n        buttonText: {\n            default: '选择图片'\n        },\n        buttonIcon: {\n            default: 'iconfont icon-plus'\n        },\n        buttonDisabled: {\n            default: false\n        },\n        fixed: {\n            default: true,\n        },\n        fixedNumber: {\n            default() {\n                return [1, 1]\n            }\n        },\n        autoCrop: {\n            default : true\n        }\n\n    },\n    data() {\n        return {\n            visible: false,\n            image: this.img,\n        }\n    },\n    mounted() {\n        this.reload();\n    },\n    methods: {\n        reload() {\n        },\n        start() {\n            this.$refs.file.click()\n        },\n        fileChange(event) {\n            ImageUtil.fileInputChange(event)\n                .then(img => {\n                    this.visible = true;\n                    this.image = img;\n                }).catch(err => DialogUtil.toastWarning(err))\n                .finally(() => this.$refs.file.value = '');\n        },\n        clickFinishCropper() {\n            this.$refs.cropper.getCropData(data => {\n                this.visible = false;\n                this.$emit('finish', data);\n            })\n        },\n    },\n    watch: {},\n    computed: {},\n\n}\n",{"version":3,"sources":["ImageCropper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"ImageCropper.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"ImageCropper disp-ib\">\r\n\r\n        <input type=\"file\" ref=\"file\" v-show=\"false\" @change=\"fileChange\"></input>\r\n        <el-button\r\n                type=\"primary\"\r\n                @click=\"start\"\r\n                v-if=\"showButton\"\r\n                :icon=\"buttonIcon\"\r\n                :disabled=\"buttonDisabled\"\r\n        >{{ buttonText }}\r\n        </el-button>\r\n        <el-dialog\r\n                :visible.sync=\"visible\"\r\n                width=\"540px\"\r\n                :modal-append-to-body=\"true\"\r\n                :append-to-body=\"true\"\r\n                :close-on-click-modal=\"false\"\r\n        >\r\n            <div class=\"mt-sm\" style=\"height: 500px; \">\r\n                <vue-cropper\r\n                        ref=\"cropper\"\r\n                        :img=\"image\"\r\n                        :max-img-size=\"600\"\r\n                        output-type=\"png\"\r\n                        :auto-crop=\"autoCrop\"\r\n                        :fixed=\"fixed\"\r\n                        :fixed-number=\"fixedNumber\"\r\n                ></vue-cropper>\r\n            </div>\r\n            <div class=\"text-center mt-md\">\r\n                <el-button-submit\r\n                        class=\"disp-ib\"\r\n                        :is-block=\"false\"\r\n                        @click.native=\"clickFinishCropper\"\r\n                >完成截图选择\r\n                </el-button-submit>\r\n            </div>\r\n\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ElButtonSubmit from \"@/components/common/button/ElButtonSubmit\";\r\n    import ImageUtil from \"@/util/ImageUtil\";\r\n    import DialogUtil from \"@/util/DialogUtil\";\r\n\r\n    export default {\r\n        name: \"ImageCropper\",\r\n        components: {ElButtonSubmit},\r\n        props: {\r\n            showButton: {\r\n                default: true\r\n            },\r\n            buttonText: {\r\n                default: '选择图片'\r\n            },\r\n            buttonIcon: {\r\n                default: 'iconfont icon-plus'\r\n            },\r\n            buttonDisabled: {\r\n                default: false\r\n            },\r\n            fixed: {\r\n                default: true,\r\n            },\r\n            fixedNumber: {\r\n                default() {\r\n                    return [1, 1]\r\n                }\r\n            },\r\n            autoCrop: {\r\n                default : true\r\n            }\r\n\r\n        },\r\n        data() {\r\n            return {\r\n                visible: false,\r\n                image: this.img,\r\n            }\r\n        },\r\n        mounted() {\r\n            this.reload();\r\n        },\r\n        methods: {\r\n            reload() {\r\n            },\r\n            start() {\r\n                this.$refs.file.click()\r\n            },\r\n            fileChange(event) {\r\n                ImageUtil.fileInputChange(event)\r\n                    .then(img => {\r\n                        this.visible = true;\r\n                        this.image = img;\r\n                    }).catch(err => DialogUtil.toastWarning(err))\r\n                    .finally(() => this.$refs.file.value = '');\r\n            },\r\n            clickFinishCropper() {\r\n                this.$refs.cropper.getCropData(data => {\r\n                    this.visible = false;\r\n                    this.$emit('finish', data);\r\n                })\r\n            },\r\n        },\r\n        watch: {},\r\n        computed: {},\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import \"~style/var.less\";\r\n\r\n    .ImageCropper {\r\n    }\r\n</style>"]}]}