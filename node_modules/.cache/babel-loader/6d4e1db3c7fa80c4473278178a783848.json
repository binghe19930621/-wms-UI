{"remainingRequest":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\项目\\SKWMS\\wms-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\项目\\SKWMS\\wms-ui\\src\\project\\ResponseCodeHandle.js","dependencies":[{"path":"E:\\项目\\SKWMS\\wms-ui\\src\\project\\ResponseCodeHandle.js","mtime":1585370816018},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _classCallCheck from \"E:\\\\\\u9879\\u76EE\\\\SKWMS\\\\wms-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\\\u9879\\u76EE\\\\SKWMS\\\\wms-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport _defineProperty from \"E:\\\\\\u9879\\u76EE\\\\SKWMS\\\\wms-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\n/**\r\n * 响应状态码解析\r\n */\nimport DialogUtil from \"@/util/DialogUtil\";\nimport UserHandle from \"@/project/user/UserHandle\";\nimport RouterUtil from \"@/util/RouterUtil\";\n\nvar ResponseCodeHandle =\n/*#__PURE__*/\nfunction () {\n  function ResponseCodeHandle() {\n    _classCallCheck(this, ResponseCodeHandle);\n\n    _defineProperty(this, \"_code110Handle\", function () {\n      // UserHandle.removeLoginUser();\n      RouterUtil.toLogin();\n      DialogUtil.toastError(\"用户凭证过期，请重新登录！\");\n    });\n\n    _defineProperty(this, \"_code120Handle\", function () {\n      DialogUtil.toastError(\"您的权限不足，请联系管理员开通！\");\n    });\n\n    _defineProperty(this, \"_codeOtherHandle\", function () {\n      DialogUtil.toastError('未知错误');\n    });\n\n    this._json = {};\n  }\n  /**\r\n   * 获取奔雷中的json值\r\n   * @returns {{}|*}\r\n   */\n\n\n  _createClass(ResponseCodeHandle, [{\n    key: \"getJson\",\n    value: function getJson() {\n      return this._json;\n    }\n    /**\r\n     * 解析响应字符串\r\n     * @returns {boolean}\r\n     * @param responseData\r\n     */\n\n  }, {\n    key: \"validate\",\n    value: function validate(responseData) {\n      this._json = responseData;\n\n      try {\n        this._json = responseData instanceof String ? JSON.parse(responseData) : responseData;\n        return this._identifyCode(this._json);\n      } catch (e) {\n        return false;\n      }\n    }\n    /**\r\n     * 识别 code 状态码\r\n     * 并执行相应函数操作\r\n     * @private\r\n     */\n\n  }, {\n    key: \"_identifyCode\",\n    value: function _identifyCode() {\n      switch (this._json.code) {\n        case 200:\n          return this._json;\n\n        case 100:\n          this._code100Handle();\n\n          return false;\n\n        case 110:\n          this._code110Handle();\n\n          return false;\n\n        case 120:\n          this._code120Handle();\n\n          return false;\n\n        default:\n          this._codeOtherHandle();\n\n          return false;\n      }\n    }\n    /**\r\n     * code == 100\r\n     * 常规错误\r\n     * 将错误信息提示给用户\r\n     * @private\r\n     */\n\n  }, {\n    key: \"_code100Handle\",\n    value: function _code100Handle() {\n      DialogUtil.toastError(this._json);\n    }\n    /**\r\n     * code == 110\r\n     * 未登录错误\r\n     * 用户尚未登录\r\n     * @private\r\n     */\n\n  }]);\n\n  return ResponseCodeHandle;\n}();\n\nexport { ResponseCodeHandle as default };",{"version":3,"sources":["E:\\项目\\SKWMS\\wms-ui\\src\\project\\ResponseCodeHandle.js"],"names":["DialogUtil","UserHandle","RouterUtil","ResponseCodeHandle","toLogin","toastError","_json","responseData","String","JSON","parse","_identifyCode","e","code","_code100Handle","_code110Handle","_code120Handle","_codeOtherHandle"],"mappings":";;;;AAAA;;;AAGA,OAAOA,UAAP,MAAuB,mBAAvB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;;IAEqBC,kB;;;AAEjB,gCAAc;AAAA;;AAAA,4CAmEG,YAAM;AACnB;AACAD,MAAAA,UAAU,CAACE,OAAX;AACAJ,MAAAA,UAAU,CAACK,UAAX,CAAsB,eAAtB;AACH,KAvEa;;AAAA,4CA+EG,YAAM;AACnBL,MAAAA,UAAU,CAACK,UAAX,CAAsB,kBAAtB;AACH,KAjFa;;AAAA,8CAuFK,YAAM;AACrBL,MAAAA,UAAU,CAACK,UAAX,CAAsB,MAAtB;AACH,KAzFa;;AACV,SAAKC,KAAL,GAAa,EAAb;AACH;AAED;;;;;;;;8BAIU;AACN,aAAO,KAAKA,KAAZ;AACH;AAED;;;;;;;;6BAKSC,Y,EAAc;AACnB,WAAKD,KAAL,GAAaC,YAAb;;AACA,UAAI;AACA,aAAKD,KAAL,GAAcC,YAAY,YAAYC,MAAzB,GAAmCC,IAAI,CAACC,KAAL,CAAWH,YAAX,CAAnC,GAA8DA,YAA3E;AACA,eAAO,KAAKI,aAAL,CAAmB,KAAKL,KAAxB,CAAP;AACH,OAHD,CAGE,OAAOM,CAAP,EAAU;AACR,eAAO,KAAP;AACH;AACJ;AAED;;;;;;;;oCAKgB;AACZ,cAAQ,KAAKN,KAAL,CAAWO,IAAnB;AACI,aAAK,GAAL;AACI,iBAAO,KAAKP,KAAZ;;AACJ,aAAK,GAAL;AACI,eAAKQ,cAAL;;AACA,iBAAO,KAAP;;AACJ,aAAK,GAAL;AACI,eAAKC,cAAL;;AACA,iBAAO,KAAP;;AACJ,aAAK,GAAL;AACI,eAAKC,cAAL;;AACA,iBAAO,KAAP;;AACJ;AACI,eAAKC,gBAAL;;AACA,iBAAO,KAAP;AAdR;AAgBH;AAED;;;;;;;;;qCAMiB;AACbjB,MAAAA,UAAU,CAACK,UAAX,CAAsB,KAAKC,KAA3B;AACH;AAED;;;;;;;;;;;;SA/DiBH,kB","sourcesContent":["/**\r\n * 响应状态码解析\r\n */\r\nimport DialogUtil from \"@/util/DialogUtil\";\r\nimport UserHandle from \"@/project/user/UserHandle\";\r\nimport RouterUtil from \"@/util/RouterUtil\";\r\n\r\nexport default class ResponseCodeHandle {\r\n\r\n    constructor() {\r\n        this._json = {};\r\n    }\r\n\r\n    /**\r\n     * 获取奔雷中的json值\r\n     * @returns {{}|*}\r\n     */\r\n    getJson() {\r\n        return this._json;\r\n    }\r\n\r\n    /**\r\n     * 解析响应字符串\r\n     * @returns {boolean}\r\n     * @param responseData\r\n     */\r\n    validate(responseData) {\r\n        this._json = responseData;\r\n        try {\r\n            this._json = (responseData instanceof String) ? JSON.parse(responseData) : responseData;\r\n            return this._identifyCode(this._json);\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 识别 code 状态码\r\n     * 并执行相应函数操作\r\n     * @private\r\n     */\r\n    _identifyCode() {\r\n        switch (this._json.code) {\r\n            case 200 :\r\n                return this._json;\r\n            case 100 :\r\n                this._code100Handle();\r\n                return false;\r\n            case 110 :\r\n                this._code110Handle();\r\n                return false;\r\n            case 120:\r\n                this._code120Handle();\r\n                return false;\r\n            default :\r\n                this._codeOtherHandle();\r\n                return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * code == 100\r\n     * 常规错误\r\n     * 将错误信息提示给用户\r\n     * @private\r\n     */\r\n    _code100Handle() {\r\n        DialogUtil.toastError(this._json);\r\n    }\r\n\r\n    /**\r\n     * code == 110\r\n     * 未登录错误\r\n     * 用户尚未登录\r\n     * @private\r\n     */\r\n    _code110Handle = () => {\r\n        // UserHandle.removeLoginUser();\r\n        RouterUtil.toLogin();\r\n        DialogUtil.toastError(\"用户凭证过期，请重新登录！\");\r\n    };\r\n\r\n    /**\r\n     * code == 120\r\n     * 权限不足\r\n     *\r\n     * @private\r\n     */\r\n    _code120Handle = () => {\r\n        DialogUtil.toastError(\"您的权限不足，请联系管理员开通！\");\r\n    };\r\n\r\n    /**\r\n     * 其他操作\r\n     * @private\r\n     */\r\n    _codeOtherHandle = () => {\r\n        DialogUtil.toastError('未知错误');\r\n    };\r\n\r\n}"]}]}