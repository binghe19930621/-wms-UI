{"remainingRequest":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\项目\\SKWMS\\wms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\项目\\SKWMS\\wms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\项目\\SKWMS\\wms-ui\\src\\components\\ImageCropper.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\项目\\SKWMS\\wms-ui\\src\\components\\ImageCropper.vue","mtime":1585370815896},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ElButtonSubmit from \"@/components/common/button/ElButtonSubmit\";\nimport ImageUtil from \"@/util/ImageUtil\";\nimport DialogUtil from \"@/util/DialogUtil\";\nexport default {\n  name: \"ImageCropper\",\n  components: {\n    ElButtonSubmit: ElButtonSubmit\n  },\n  props: {\n    showButton: {\n      default: true\n    },\n    buttonText: {\n      default: '选择图片'\n    },\n    buttonIcon: {\n      default: 'iconfont icon-plus'\n    },\n    buttonDisabled: {\n      default: false\n    },\n    fixed: {\n      default: true\n    },\n    fixedNumber: {\n      default: function _default() {\n        return [1, 1];\n      }\n    },\n    autoCrop: {\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      visible: false,\n      image: this.img\n    };\n  },\n  mounted: function mounted() {\n    this.reload();\n  },\n  methods: {\n    reload: function reload() {},\n    start: function start() {\n      this.$refs.file.click();\n    },\n    fileChange: function fileChange(event) {\n      var _this = this;\n\n      ImageUtil.fileInputChange(event).then(function (img) {\n        _this.visible = true;\n        _this.image = img;\n      }).catch(function (err) {\n        return DialogUtil.toastWarning(err);\n      }).finally(function () {\n        return _this.$refs.file.value = '';\n      });\n    },\n    clickFinishCropper: function clickFinishCropper() {\n      var _this2 = this;\n\n      this.$refs.cropper.getCropData(function (data) {\n        _this2.visible = false;\n\n        _this2.$emit('finish', data);\n      });\n    }\n  },\n  watch: {},\n  computed: {}\n};",{"version":3,"sources":["ImageCropper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,OAAA,cAAA,MAAA,2CAAA;AACA,OAAA,SAAA,MAAA,kBAAA;AACA,OAAA,UAAA,MAAA,mBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,cAAA,EAAA;AAAA,GAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,OAAA,EAAA;AADA,KADA;AAIA,IAAA,UAAA,EAAA;AACA,MAAA,OAAA,EAAA;AADA,KAJA;AAOA,IAAA,UAAA,EAAA;AACA,MAAA,OAAA,EAAA;AADA,KAPA;AAUA,IAAA,cAAA,EAAA;AACA,MAAA,OAAA,EAAA;AADA,KAVA;AAaA,IAAA,KAAA,EAAA;AACA,MAAA,OAAA,EAAA;AADA,KAbA;AAgBA,IAAA,WAAA,EAAA;AACA,MAAA,OADA,sBACA;AACA,eAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA;AAHA,KAhBA;AAqBA,IAAA,QAAA,EAAA;AACA,MAAA,OAAA,EAAA;AADA;AArBA,GAHA;AA6BA,EAAA,IA7BA,kBA6BA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,KAAA;AAFA,KAAA;AAIA,GAlCA;AAmCA,EAAA,OAnCA,qBAmCA;AACA,SAAA,MAAA;AACA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA,CACA,CAFA;AAGA,IAAA,KAHA,mBAGA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,KAAA;AACA,KALA;AAMA,IAAA,UANA,sBAMA,KANA,EAMA;AAAA;;AACA,MAAA,SAAA,CAAA,eAAA,CAAA,KAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA;AACA,OAJA,EAIA,KAJA,CAIA,UAAA,GAAA;AAAA,eAAA,UAAA,CAAA,YAAA,CAAA,GAAA,CAAA;AAAA,OAJA,EAKA,OALA,CAKA;AAAA,eAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AAAA,OALA;AAMA,KAbA;AAcA,IAAA,kBAdA,gCAcA;AAAA;;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,WAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA;AACA,OAHA;AAIA;AAnBA,GAtCA;AA2DA,EAAA,KAAA,EAAA,EA3DA;AA4DA,EAAA,QAAA,EAAA;AA5DA,CAAA","sourcesContent":["<template>\r\n    <div class=\"ImageCropper disp-ib\">\r\n\r\n        <input type=\"file\" ref=\"file\" v-show=\"false\" @change=\"fileChange\"></input>\r\n        <el-button\r\n                type=\"primary\"\r\n                @click=\"start\"\r\n                v-if=\"showButton\"\r\n                :icon=\"buttonIcon\"\r\n                :disabled=\"buttonDisabled\"\r\n        >{{ buttonText }}\r\n        </el-button>\r\n        <el-dialog\r\n                :visible.sync=\"visible\"\r\n                width=\"540px\"\r\n                :modal-append-to-body=\"true\"\r\n                :append-to-body=\"true\"\r\n                :close-on-click-modal=\"false\"\r\n        >\r\n            <div class=\"mt-sm\" style=\"height: 500px; \">\r\n                <vue-cropper\r\n                        ref=\"cropper\"\r\n                        :img=\"image\"\r\n                        :max-img-size=\"600\"\r\n                        output-type=\"png\"\r\n                        :auto-crop=\"autoCrop\"\r\n                        :fixed=\"fixed\"\r\n                        :fixed-number=\"fixedNumber\"\r\n                ></vue-cropper>\r\n            </div>\r\n            <div class=\"text-center mt-md\">\r\n                <el-button-submit\r\n                        class=\"disp-ib\"\r\n                        :is-block=\"false\"\r\n                        @click.native=\"clickFinishCropper\"\r\n                >完成截图选择\r\n                </el-button-submit>\r\n            </div>\r\n\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ElButtonSubmit from \"@/components/common/button/ElButtonSubmit\";\r\n    import ImageUtil from \"@/util/ImageUtil\";\r\n    import DialogUtil from \"@/util/DialogUtil\";\r\n\r\n    export default {\r\n        name: \"ImageCropper\",\r\n        components: {ElButtonSubmit},\r\n        props: {\r\n            showButton: {\r\n                default: true\r\n            },\r\n            buttonText: {\r\n                default: '选择图片'\r\n            },\r\n            buttonIcon: {\r\n                default: 'iconfont icon-plus'\r\n            },\r\n            buttonDisabled: {\r\n                default: false\r\n            },\r\n            fixed: {\r\n                default: true,\r\n            },\r\n            fixedNumber: {\r\n                default() {\r\n                    return [1, 1]\r\n                }\r\n            },\r\n            autoCrop: {\r\n                default : true\r\n            }\r\n\r\n        },\r\n        data() {\r\n            return {\r\n                visible: false,\r\n                image: this.img,\r\n            }\r\n        },\r\n        mounted() {\r\n            this.reload();\r\n        },\r\n        methods: {\r\n            reload() {\r\n            },\r\n            start() {\r\n                this.$refs.file.click()\r\n            },\r\n            fileChange(event) {\r\n                ImageUtil.fileInputChange(event)\r\n                    .then(img => {\r\n                        this.visible = true;\r\n                        this.image = img;\r\n                    }).catch(err => DialogUtil.toastWarning(err))\r\n                    .finally(() => this.$refs.file.value = '');\r\n            },\r\n            clickFinishCropper() {\r\n                this.$refs.cropper.getCropData(data => {\r\n                    this.visible = false;\r\n                    this.$emit('finish', data);\r\n                })\r\n            },\r\n        },\r\n        watch: {},\r\n        computed: {},\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import \"~style/var.less\";\r\n\r\n    .ImageCropper {\r\n    }\r\n</style>"],"sourceRoot":"src/components"}]}