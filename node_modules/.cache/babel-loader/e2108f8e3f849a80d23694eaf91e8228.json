{"remainingRequest":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\项目\\SKWMS\\wms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\项目\\SKWMS\\wms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\项目\\SKWMS\\wms-ui\\src\\components\\page-content\\stock-entry\\StockInLogView.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\项目\\SKWMS\\wms-ui\\src\\components\\page-content\\stock-entry\\StockInLogView.vue","mtime":1585377512214},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\项目\\SKWMS\\wms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"E:\\\\\\u9879\\u76EE\\\\SKWMS\\\\wms-ui\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport SearchCardLayout from \"@/components/layout-component/SearchCardLayout\";\nimport MoveModel from \"@/project/model/MoveModel\";\nimport PaginateModel from \"@/project/model/PaginateModel\";\nimport Api from \"@/assets/api/Api\";\nimport EcUtil from \"@/util/EcUtil\";\nimport ElButtonMini from \"@/components/common/button/ElButtonMini\";\nimport TablePanel from \"@/components/layout-component/TablePanel\";\nexport default {\n  name: \"StockInLogView\",\n  components: {\n    TablePanel: TablePanel,\n    ElButtonMini: ElButtonMini,\n    SearchCardLayout: SearchCardLayout\n  },\n  props: {\n    type: {\n      default: 1\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      showAddDialog: false,\n      filterForm: new MoveModel(),\n      data: [],\n      paginate: new PaginateModel(this.refreshData),\n      selectedRow: [],\n      sortingColumn: null,\n      editId: 0\n    };\n  },\n  mounted: function mounted() {\n    this.reload();\n  },\n  methods: {\n    reload: function reload() {\n      this.refreshData();\n    },\n    refreshData: function refreshData() {\n      var _this = this;\n\n      this.loading = true;\n      var api = this.type === 1 ? Api.move.stockInList : Api.move.stockOutList;\n      this.$ajax.request(api, _objectSpread({}, EcUtil.getSortField(this.sortingColumn, 't'), this.paginate.getJSON(), this.filterForm)).then(function (resp) {\n        _this.data = resp.list;\n\n        _this.paginate.setPaginate(resp);\n      }).finally(function () {\n        return _this.loading = false;\n      });\n    },\n    sortChange: function sortChange(nodes) {\n      this.sortingColumn = nodes;\n      this.refreshData();\n    },\n    clickAddButton: function clickAddButton() {\n      this.editId = 0;\n      this.showAddDialog = true;\n    },\n    clickEditButton: function clickEditButton() {\n      this.editId = this.selectedRow[0].id;\n      this.showAddDialog = true;\n    },\n    clickDeleteButton: function clickDeleteButton() {\n      this.delete(this.selectedRow);\n    },\n    clickRowEditButton: function clickRowEditButton(row) {\n      this.editId = row.id;\n      this.showAddDialog = true;\n    },\n    clickRowDeleteButton: function clickRowDeleteButton(row) {\n      this.delete([row]);\n    }\n  },\n  watch: {},\n  computed: {\n    typeText: function typeText() {\n      return this.type === 1 ? '入库' : '出库';\n    }\n  }\n};",{"version":3,"sources":["StockInLogView.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"StockInLogView flex-box flex-column\">\r\n        <search-card-layout\r\n                @click-search=\"refreshData\"\r\n        >\r\n            <div class=\"flex-box search-card\">\r\n                <div class=\"\">\r\n                    <span>入库单号</span>\r\n                    <el-input v-model=\"filterForm.stockEntryNumber\"></el-input>\r\n                </div>\r\n                <div class=\"\">\r\n                    <span>订单号</span>\r\n                    <el-input v-model=\"filterForm.stockEntryOrderNumber\"></el-input>\r\n                </div>\r\n                <div class=\"\">\r\n                    <span>物料编号</span>\r\n                    <el-input v-model=\"filterForm.materialCode\"></el-input>\r\n                </div>\r\n                <div class=\"\">\r\n                    <span>物料名称</span>\r\n                    <el-input v-model=\"filterForm.materialName\"></el-input>\r\n                </div>\r\n            </div>\r\n        </search-card-layout>\r\n        <div class=\"flex-grow\">\r\n            <table-panel\r\n                    :loading=\"loading\"\r\n                    :data=\"data\"\r\n                    :paginate=\"paginate\"\r\n                    operate-width=\"80\"\r\n                    :selectedRow.sync=\"selectedRow\"\r\n                    @sort-change=\"sortChange\"\r\n                    :create-user-show=\"true\"\r\n                    :update-user-show=\"true\"\r\n                    :operate-show=\"false\"\r\n                    :show-selection=\"false\"\r\n                    :show-all-warehouse=\"true\"\r\n            >\r\n                <el-table-column\r\n                        prop=\"id\"\r\n                        label=\"ID\"\r\n                        sortable=\"custom\"\r\n                        width=\"80\"\r\n                ></el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"stk_e.number\"\r\n                        label=\"入库单号\"\r\n                        sortable=\"custom\"\r\n                        v-if=\"type === 1\"\r\n                        width=\"120\"\r\n                >\r\n                    <template slot-scope=\"{row}\">{{ row.stockEntryNumber }}</template>\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"stk_ts.number\"\r\n                        label=\"出库单号\"\r\n                        sortable=\"custom\"\r\n                        v-if=\"type === 2\"\r\n                        width=\"120\"\r\n                >\r\n                    <template slot-scope=\"{row}\">{{ row.stockEntryNumber }}</template>\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"stk_e.order_number\"\r\n                        label=\"订单号\"\r\n                        sortable=\"custom\"\r\n                        width=\"120\"\r\n                >\r\n                    <template slot-scope=\"{row}\">{{ row.stockEntryOrderNumber }}</template>\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"materialId\"\r\n                        label=\"物料编号\"\r\n                        sortable=\"custom\"\r\n                        width=\"100\"\r\n                >\r\n                    <template slot-scope=\"{row}\">{{ row.materialCode }}</template>\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"materialId\"\r\n                        label=\"物料名称\"\r\n                        sortable=\"custom\"\r\n                        width=\"120\"\r\n                >\r\n                    <template slot-scope=\"{row}\">{{ row.materialName }}</template>\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"materialId\"\r\n                        label=\"物料名称\"\r\n                        sortable=\"custom\"\r\n                        width=\"120\"\r\n                >\r\n                    <template slot-scope=\"{row}\">{{ row.materialName }}</template>\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"planQuantity\"\r\n                        label=\"计划数量\"\r\n                        sortable=\"custom\"\r\n                        width=\"100\"\r\n                ></el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"planQuantity\"\r\n                        label=\"实际数量\"\r\n                        sortable=\"custom\"\r\n                        width=\"100\"\r\n                ></el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"materialUnitName\"\r\n                        label=\"单位\"\r\n                        width=\"80\"\r\n                ></el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"approveUid\"\r\n                        label=\"审批人\"\r\n                        sortable=\"custom\"\r\n                        width=\"100\"\r\n                >\r\n                    <template slot-scope=\"{row}\">{{ row.approveUserName }}</template>\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"approveTime\"\r\n                        label=\"审批时间\"\r\n                        sortable=\"custom\"\r\n                        width=\"140\"\r\n                ></el-table-column>\r\n\r\n                <template slot=\"operate\" slot-scope=\"{row}\">\r\n                    <el-button-mini\r\n                            type=\"text\"\r\n                            icon=\"edit\"\r\n                            @click.native=\"clickRowEditButton(row)\"\r\n                    ></el-button-mini>\r\n                    <el-button-mini\r\n                            type=\"text\"\r\n                            icon=\"delete\"\r\n                            @click.native=\"clickRowDeleteButton(row)\"\r\n                    ></el-button-mini>\r\n                </template>\r\n            </table-panel>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import SearchCardLayout from \"@/components/layout-component/SearchCardLayout\";\r\n    import MoveModel from \"@/project/model/MoveModel\";\r\n    import PaginateModel from \"@/project/model/PaginateModel\";\r\n    import Api from \"@/assets/api/Api\";\r\n    import EcUtil from \"@/util/EcUtil\";\r\n    import ElButtonMini from \"@/components/common/button/ElButtonMini\";\r\n    import TablePanel from \"@/components/layout-component/TablePanel\";\r\n\r\n    export default {\r\n        name: \"StockInLogView\",\r\n        components: {TablePanel, ElButtonMini, SearchCardLayout},\r\n        props: {\r\n            type: {\r\n                default: 1\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                loading: false,\r\n                showAddDialog: false,\r\n                filterForm: new MoveModel(),\r\n                data: [],\r\n                paginate: new PaginateModel(this.refreshData),\r\n                selectedRow: [],\r\n                sortingColumn: null,\r\n                editId: 0,\r\n            }\r\n        },\r\n        mounted() {\r\n            this.reload();\r\n        },\r\n        methods: {\r\n            reload() {\r\n                this.refreshData();\r\n            },\r\n            refreshData() {\r\n                this.loading = true;\r\n                let api = this.type === 1 ? Api.move.stockInList : Api.move.stockOutList;\r\n                \r\n                this.$ajax.request(api, {\r\n                    ...EcUtil.getSortField(this.sortingColumn, 't'),\r\n                    ...this.paginate.getJSON(),\r\n                    ...this.filterForm\r\n                }).then(resp => {\r\n                    this.data = resp.list;\r\n                    this.paginate.setPaginate(resp);\r\n                }).finally(() => this.loading = false)\r\n            },\r\n\r\n            sortChange(nodes) {\r\n                this.sortingColumn = nodes;\r\n                this.refreshData();\r\n            },\r\n\r\n            clickAddButton() {\r\n                this.editId = 0;\r\n                this.showAddDialog = true;\r\n            },\r\n            clickEditButton() {\r\n                this.editId = this.selectedRow[0].id;\r\n                this.showAddDialog = true;\r\n            },\r\n            clickDeleteButton() {\r\n                this.delete(this.selectedRow);\r\n            },\r\n            clickRowEditButton(row) {\r\n                this.editId = row.id;\r\n                this.showAddDialog = true;\r\n            },\r\n            clickRowDeleteButton(row) {\r\n                this.delete([row]);\r\n            },\r\n        },\r\n        watch: {},\r\n        computed: {\r\n            typeText() {\r\n                return this.type === 1 ? '入库' : '出库'\r\n            }\r\n        },\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import (reference) \"~style/all.less\";\r\n\r\n    .StockInLogView {\r\n    }\r\n</style>"],"sourceRoot":"src/components/page-content/stock-entry"}]}